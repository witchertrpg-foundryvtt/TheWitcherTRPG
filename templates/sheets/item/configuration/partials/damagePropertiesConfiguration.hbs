<h3>{{localize "WITCHER.Item.Settings.DamageProperties"}}</h3>
<table class="information">
    <tr class="item-header-tablerow">
        <td>
            <label for="armorPiercing">{{localize "WITCHER.Weapon.armorPiercing"}}</label>
        </td>
        <td>
            <input type="checkbox" id="armorPiercing" name="system.damageProperties.armorPiercing"
                {{checked item.system.damageProperties.armorPiercing}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label for="improvedArmorPiercing">{{localize "WITCHER.Weapon.improvedArmorPiercing"}}</label>
        </td>
        <td>
            <input type="checkbox" id="improvedArmorPiercing" name="system.damageProperties.improvedArmorPiercing"
                {{checked item.system.damageProperties.improvedArmorPiercing}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label for="ablating">{{localize "WITCHER.Weapon.ablating"}}</label>
        </td>
        <td>
            <input type="checkbox" id="ablating" name="system.damageProperties.ablating"
                {{checked item.system.damageProperties.ablating}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label for="crushingForce">{{localize "WITCHER.Weapon.crushingForce"}}</label>
        </td>
        <td>
            <input type="checkbox" id="crushingForce" name="system.damageProperties.crushingForce"
                {{checked item.system.damageProperties.crushingForce}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label for="damageIsAblation">{{localize "WITCHER.Item.DamageProperties.damageIsAblation"}}</label>
        </td>
        <td>
            <input type="checkbox" id="damageIsAblation" name="system.damageProperties.damageIsAblation"
                {{checked item.system.damageProperties.damageIsAblation}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label for="damageToAllLocations">{{localize "WITCHER.Item.DamageProperties.damageToAllLocations"}}</label>
        </td>
        <td>
            <input type="checkbox" id="damageToAllLocations" name="system.damageProperties.damageToAllLocations"
                {{checked item.system.damageProperties.damageToAllLocations}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label for="bypassesWornArmor">{{localize "WITCHER.Item.DamageProperties.bypassesWornArmor"}}</label>
        </td>
        <td>
            <input type="checkbox" id="bypassesWornArmor" name="system.damageProperties.bypassesWornArmor"
                {{checked item.system.damageProperties.bypassesWornArmor}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label for="bypassesNaturalArmor">{{localize "WITCHER.Item.DamageProperties.bypassesNaturalArmor"}}</label>
        </td>
        <td>
            <input type="checkbox" id="bypassesNaturalArmor" name="system.damageProperties.bypassesNaturalArmor"
                {{checked item.system.damageProperties.bypassesNaturalArmor}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label for="variableDamage">{{localize "WITCHER.Item.DamageProperties.variableDamage"}}</label>
        </td>
        <td>
            <input type="checkbox" id="variableDamage" name="system.damageProperties.variableDamage"
                {{checked item.system.damageProperties.variableDamage}} />
        </td>
    </tr>
    <tr class="item-header-tablerow">
        <td>
            <label
                for="defenseDifferenceMultiplier">{{localize "WITCHER.Item.DamageProperties.defenseDifferenceMultiplier"}}</label>
        </td>
        <td>
            <input type="checkbox" id="defenseDifferenceMultiplier"
                name="system.damageProperties.defenseDifferenceMultiplier"
                {{checked item.system.damageProperties.defenseDifferenceMultiplier}} />
        </td>
    </tr>
    {{#if item.system.damageProperties.defenseDifferenceMultiplier}}
        <tr class="item-header-tablerow">
            <td>
                <label
                    for="defenseMultiplierCap">{{localize "WITCHER.Item.DamageProperties.defenseMultiplierCap"}}</label>
            </td>
            <td>
                <input type="text" id="defenseMultiplierCap" name="system.damageProperties.defenseMultiplierCap"
                    value="{{item.system.damageProperties.defenseMultiplierCap}}" />
            </td>
        </tr>
    {{/if}}
</table>

<table>
    <tr class="item-header-tablerow">
        <td>
            <label
                for="appliesGlobalModifierToHit">{{localize "WITCHER.Item.DamageProperties.appliesGlobalModifierToHit"}}</label>
        </td>
        <td>
            <input type="checkbox" id="damageProperties.appliesGlobalModifierToHit"
                name="system.damageProperties.appliesGlobalModifierToHit"
                {{checked item.system.damageProperties.appliesGlobalModifierToHit}} />
        </td>
    </tr>
    {{#if item.system.damageProperties.appliesGlobalModifierToHit}}
        <tr>
            <th><a class="add-global-modifier-damageProperties" data-target='damageProperties.hitGlobalModifiers'
                    title="{{localize "WITCHER.Item.DamageProperties.hitGlobalModifiers"}}"><i
                        class="fas fa-plus"></i></a>
            </th>
            <th>{{localize "TYPES.Item.globalModifier"}}</th>
        </tr>
        {{#each item.system.damageProperties.hitGlobalModifiers as |modifier|}}
            <tr>
                <td class="list-item" data-id="{{modifier}}" data-target='damageProperties.hitGlobalModifiers'>
                    <a class="remove-global-modifier-damageProperties"
                        title="{{localize "WITCHER.Item.RemoveGlobalModifier"}}"><i class="fas fa-minus"></i></a>
                </td>
                <td class="list-item" data-id="{{modifier}}" data-target='damageProperties.hitGlobalModifiers'>
                    <input class="edit-global-modifier-damageProperties" placeholder="{{localize "WITCHER.table.Name"}}"
                        type="text" value="{{modifier}}" />
                </td>
            </tr>
        {{/each}}
    {{/if}}
</table>

<table>
    <tr class="item-header-tablerow">
        <td>
            <label
                for="appliesGlobalModifierToDamaged">{{localize "WITCHER.Item.DamageProperties.appliesGlobalModifierToDamaged"}}</label>
        </td>
        <td>
            <input type="checkbox" id="damageProperties.appliesGlobalModifierToDamaged"
                name="system.damageProperties.appliesGlobalModifierToDamaged"
                {{checked item.system.damageProperties.appliesGlobalModifierToDamaged}} />
        </td>
    </tr>
    {{#if item.system.damageProperties.appliesGlobalModifierToDamaged}}
        <tr>
            <th><a class="add-global-modifier-damageProperties" data-target='damageProperties.damagedGlobalModifiers'
                    title="{{localize "WITCHER.Item.AddGlobalModifier"}}"><i class="fas fa-plus"></i></a>
            </th>
            <th>{{localize "TYPES.Item.globalModifier"}}</th>
        </tr>
        {{#each item.system.damageProperties.damagedGlobalModifiers as |modifier|}}
            <tr>
                <td class="list-item" data-id="{{modifier}}" data-target='damageProperties.damagedGlobalModifiers'>
                    <a class="remove-global-modifier-damageProperties"
                        title="{{localize "WITCHER.Item.RemoveGlobalModifier"}}"><i class="fas fa-minus"></i></a>
                </td>
                <td class="list-item" data-id="{{modifier}}" data-target='damageProperties.damagedGlobalModifiers'>
                    <input class="edit-global-modifier-damageProperties" placeholder="{{localize "WITCHER.table.Name"}}"
                        type="text" value="{{modifier}}" />
                </td>
            </tr>
        {{/each}}
    {{/if}}
</table>

<table class="item-bottom-table">
    <tr>
        <th><a class="add-effect-damageProperties" data-target='system.damageProperties.effects'
                title="{{localize "WITCHER.Item.AddEffect"}}"><i class="fas fa-plus"></i></a>
        </th>
        <th>{{localize "WITCHER.Item.Effect"}}</th>
        <th></th>
        <th>{{localize "WITCHER.Percentage"}}</th>
    </tr>
    {{#each item.system.damageProperties.effects as |effect name|}}
        <tr class="list-item" data-id="{{effect.id}}">
            <td>
                <a class="remove-effect-damageProperties" title="{{localize "WITCHER.Item.RemoveEffect"}}"><i
                        class="fas fa-minus"></i></a>
            </td>
            <td>
                <input class="edit-effect-damageProperties item-effect" placeholder="{{localize "WITCHER.table.Name"}}"
                    data-field="name" type="text" value="{{effect.name}}" />
            </td>
            <td>
                <select class="edit-effect-damageProperties item-effect" data-field="statusEffect">
                    {{selectOptions ../config.statusEffects blank='' selected=effect.statusEffect nameAttr='id' valueAttr="id" labelAttr="name" localize=true}}
                </select>
            </td>
            <td>
                <input class="edit-effect-damageProperties" placeholder="%" data-field="percentage" type="text"
                    value="{{effect.percentage}}" data-dtype="Number" />
            </td>
        </tr>
        {{#if ../item.system.staminaIsVar }}
            <tr class="list-item" data-id="{{effect.id}}">
                <td>{{localize "WITCHER.Spell.variableEffect"}}</td>
                <td>
                    <input class="edit-effect-damageProperties" type="checkbox" data-field="varEffect"
                        {{checked effect.varEffect}} />
                </td>
            </tr>
        {{/if}}
    {{/each}}
</table>